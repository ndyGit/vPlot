<html>
<head>
	<title>SurfacePlot tests</title>
	<script src="../js/VLib/require.min.js"></script>
	<link rel="stylesheet" href="../css/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet"
	href="../css/custom-theme/jquery-ui-1.10.0.custom.css" />
	<link rel="stylesheet" href="../css/pageStyle.css" />
	<style>
		.pc{
			width: 100%;

		}
		.plot{
			position: relative;
			border: 3px solid #EEEEEE;
			float:left;
			width:30%;
			height:300px;
			margin:15px;
		}

	</style>
</head>
<body>
	<h1>Fun.vlib</h1>
	<h3>Function</h3>
	<div class="panel panel-default pc">

	</div>

	<script type="text/javascript">

		requirejs.config({
			appDir: "../",
			baseUrl: "../js/VLib"
		});
		require([
			'vLib_base',
			'libs/text!../../tests/templates/function/log_negative_2.vlib',
			'libs/text!../../tests/templates/function/log_negative.vlib',
			'libs/text!../../tests/templates/function/log_positive.vlib',
			'libs/text!../../tests/templates/function/log_01.vlib',
			'libs/text!../../tests/templates/function/log_logscale.vlib',

			],function(Wrapper,
				m1,m2,m3,m4,m5
				){
				var VLib = Wrapper.vLib;
				var Plot = Wrapper.vPlot;
				var v = new VLib({
					basePath : '../',
					appPath : 'js/VLib',
					dataPath : 'data/'
				});
				var counter = 0;
				var setup = function(){
					var container = arguments[0];

					var header = arguments[1];
					var templates = arguments[2];
					var plotArray = [];
					var cId,template;

					var $container = $(container);
					$container.append('<div class="panel-heading"><b>'+header+'</b></div>');
					var $body = $('<div />',{
						class : 'panel-body'
					});
					$container.append($body);
					for(var i = 0; i < templates.length ; ++i){
						plotArray[i] = new Plot();
						v.registerModule(plotArray[i]);

						cId = 'plotContainer'+counter;
						$body.append('<div class="plot" id="'+cId+'" ></div>');
						plotArray[i].init('#'+cId);

						template = JSON.parse(templates[i]);
						v.load(template,plotArray[i]);
						counter++;
					}

				};
				//Array.prototype.shift.apply(arguments);
				setup('.pc','log( [ NEGATIVE : NEGATIVE ] )',[ m1 ]);
				setup('.pc','log( [ NEGATIVE : POSITIVE ] )',[ m2 ]);
				setup('.pc','log( [ POSITIVE : POSITIVE ] )',[ m3, m5 ]);
				setup('.pc','log( [ 0 : 0.999 ] ) with 333 segments',[ m4 ]);

			});
</script>
</body>
</html>
